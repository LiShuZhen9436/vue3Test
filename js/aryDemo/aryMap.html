<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组 map</title>
</head>
<body>
    <script>
         /*
            map 
            1、遍历数组 返回一个新数组  
            2、如果数组对象只有一层引用不会改变原数组，有多层时会改变原数组对象 属于浅拷贝
        */
        let bilAry1=['a','b','c','d','e','f','g','h',{'k':'55'}];
        let w = bilAry1.map((item,index,ary)=>{ // map 使用break continue报错
            // console.log(' item:',item,' index:',index,' ary:',ary);
            if(index ===8) {
                item.k="666"
            } 
            else{
                item = item+'1';
            }
        })
        console.log('w:',w)
        console.log('bilAry:',bilAry1)

        /* **************模拟map源码****************** */
        var arr = [1, 2, 3, 4, 5]
        Array.prototype.myMap = function(fn){
            var len = this.length
            //创建新数组
            var arr = [];
            for(var i = 0; i < len; i ++){
                // let aa = fn(this[i],i) // map回调函数的执行结果
                console.log('DDD:', fn(this[i],i))
                arr.push(fn(this[i],i))
            }
            return arr
        }
        var aa = arr.myMap(function(ele, index){
            return ele * 2
        })
        console.log(aa)
        /* **************模拟map源码 end****************** */
    </script>
</body>
</html>